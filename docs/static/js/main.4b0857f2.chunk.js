(this.webpackJsonpmarryme=this.webpackJsonpmarryme||[]).push([[0],{15:function(e,t,a){e.exports=a(38)},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),m=a.n(r),i=a(2),l=a(14),s=a.n(l),o=a(3);a(37);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1?arguments[1]:void 0;return s.a.get("https://musicapi.leanapp.cn/comment/music",{params:{id:25643291,limit:e,offset:t}}).then((function(e){return e.data}))}var d,p,f=1;function g(e){var t=e.avatarUrl,a=e.nickname,n=e.content,r=e.time;return c.a.createElement("div",{className:"grid-item",style:{backgroundColor:"#fff"}},c.a.createElement("div",{className:"userinfo"},c.a.createElement("img",{className:"avatar",src:t,alt:"avatar"})),c.a.createElement("div",{className:"content"},c.a.createElement("span",null,n),c.a.createElement("div",{className:"nickname"},"- ",a),c.a.createElement("div",{className:"time"},function(e,t){t=t||"Y-m-d";var a=function(e){return e<10?"0"+e:e},n=e?new Date(e):new Date,c=n.getFullYear(),r=a(n.getMonth()+1),m=a(n.getDate()),i=a(n.getHours()),l=a(n.getMinutes()),s=a(n.getSeconds());return t.replace(/Y|m|d|H|i|s/gi,(function(e){return{Y:c,m:r,d:m,H:i,i:l,s:s}[e]}))}(r))))}var v=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],m=Object(n.useState)([]),l=Object(i.a)(m,2),s=l[0],v=l[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),E=h[0],k=h[1],N=function(){E||(k(!0),u(50,2027450-50*f).then((function(e){v(s.concat(e.comments)),1===f?p.pack():p.update(),f++})).finally((function(){k(!1)})))};return Object(n.useEffect)((function(){u(20).then((function(e){r(e.hotComments),d.pack()})),N();var e=[{columns:2,gutter:10},{mq:"600px",columns:3,gutter:10},{mq:"800px",columns:4,gutter:10},{mq:"1000px",columns:5,gutter:16},{mq:"1130px",columns:5,gutter:16}];d=Object(o.a)({container:"#hot-comment-list",packed:"data-packed",sizes:e}),p=Object(o.a)({container:"#comment-list",packed:"data-packed",sizes:e})}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",{className:"title"},"- \u9700\u8981\u4eba\u966a\u306e\u7f51\u6613\u4e91\u8bc4\u8bba -"),c.a.createElement("span",{className:"github-button"},c.a.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=objtube&repo=NeteaseMusic-qingtian-comment&type=star&count=true&size=large",frameBorder:"0",scrolling:"0",width:"170",height:"30",title:"GitHub"})),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("iframe",{src:"//player.bilibili.com/player.html?aid=48910450&bvid=BV1Nb411M7VA&cid=85656563&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",style:{width:800,height:500}})),c.a.createElement("h2",{className:"subtitle"},"\u70ed\u8bc4 TOP15"),c.a.createElement("div",{id:"hot-comment-list"},a.map((function(e){var t=e.user,a=e.content,n=e.commentId,r=e.time;return c.a.createElement(g,{key:n,avatarUrl:t.avatarUrl,nickname:t.nickname,content:a,time:r})}))),c.a.createElement("h2",{className:"subtitle"},"\u8bc4\u8bba\u56de\u5fc6"),c.a.createElement("div",{id:"comment-list"},s.map((function(e){var t=e.user,a=e.content,n=e.commentId,r=e.time;return c.a.createElement(g,{key:n,avatarUrl:t.avatarUrl,nickname:t.nickname,content:a,time:r})}))),c.a.createElement("div",{className:"load-more"},c.a.createElement("a",{className:"load-more-button",onClick:N},E?"...":"\u52a0\u8f7d\u66f4\u591a")))};m.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4b0857f2.chunk.js.map